<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>MBC1 - Pan Docs</title>


        <!-- Custom HTML head -->
        <!-- Open Graph tags-->
        <meta name="og:site_name" content="Pan Docs" />
        <meta name="og:image" content="https://gbdev.io/pandocs/favicon.png" />
        <meta name="og:title" content="MBC1" />
        <meta name="og:description" content="The single, most comprehensive technical reference to Game Boy available to the public." />
        
        <!-- Twitter meta tags -->
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@gbdev0" />
        
        <!-- MathML polyfill for Chrome -->
        <script src="https://fred-wang.github.io/mathml.css/mspace.js"></script>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="The single, most comprehensive technical reference to Game Boy available to the public.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="custom/style.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="About.html">Foreword</a></li><li class="chapter-item affix "><a href="Authors.html">Acknowledgements</a></li><li class="chapter-item affix "><a href="History.html">History</a></li><li class="spacer"></li><li class="chapter-item affix "><li class="part-title">Overview</li><li class="chapter-item "><a href="Specifications.html"><strong aria-hidden="true">1.</strong> Specifications</a></li><li class="chapter-item "><a href="Memory_Map.html"><strong aria-hidden="true">2.</strong> Memory Map</a></li><li class="chapter-item affix "><li class="part-title">I/O Ports</li><li class="chapter-item "><a href="Hardware_Reg_List.html"><strong aria-hidden="true">3.</strong> Summary</a></li><li class="chapter-item "><a href="Rendering.html"><strong aria-hidden="true">4.</strong> Rendering</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Tile_Data.html"><strong aria-hidden="true">4.1.</strong> Tile Data</a></li><li class="chapter-item "><a href="Tile_Maps.html"><strong aria-hidden="true">4.2.</strong> Tile Maps</a></li><li class="chapter-item "><a href="OAM.html"><strong aria-hidden="true">4.3.</strong> OAM</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="OAM_DMA_Transfer.html"><strong aria-hidden="true">4.3.1.</strong> OAM DMA Transfer</a></li></ol></li><li class="chapter-item "><a href="LCDC.html"><strong aria-hidden="true">4.4.</strong> LCD Control</a></li><li class="chapter-item "><a href="STAT.html"><strong aria-hidden="true">4.5.</strong> LCD Status</a></li><li class="chapter-item "><a href="Scrolling.html"><strong aria-hidden="true">4.6.</strong> Scrolling</a></li><li class="chapter-item "><a href="Palettes.html"><strong aria-hidden="true">4.7.</strong> Palettes</a></li><li class="chapter-item "><a href="pixel_fifo.html"><strong aria-hidden="true">4.8.</strong> Pixel FIFO</a></li></ol></li><li class="chapter-item "><a href="Audio.html"><strong aria-hidden="true">5.</strong> Audio</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Audio_Registers.html"><strong aria-hidden="true">5.1.</strong> Audio Registers</a></li><li class="chapter-item "><a href="Audio_details.html"><strong aria-hidden="true">5.2.</strong> Audio Details</a></li></ol></li><li class="chapter-item "><a href="Joypad_Input.html"><strong aria-hidden="true">6.</strong> Joypad Input</a></li><li class="chapter-item "><a href="Serial_Data_Transfer_(Link_Cable).html"><strong aria-hidden="true">7.</strong> Serial Data Transfer</a></li><li class="chapter-item "><a href="Timer_and_Divider_Registers.html"><strong aria-hidden="true">8.</strong> Timer and Divider Registers</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Timer_Obscure_Behaviour.html"><strong aria-hidden="true">8.1.</strong> Timer Obscure Behaviour</a></li></ol></li><li class="chapter-item "><a href="Interrupts.html"><strong aria-hidden="true">9.</strong> Interrupts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="Interrupt_Sources.html"><strong aria-hidden="true">9.1.</strong> Interrupt Sources</a></li><li class="chapter-item "><a href="halt.html"><strong aria-hidden="true">9.2.</strong> HALT</a></li></ol></li><li class="chapter-item "><a href="CGB_Registers.html"><strong aria-hidden="true">10.</strong> CGB Registers</a></li><li class="chapter-item "><a href="IR.html"><strong aria-hidden="true">11.</strong> Infrared Communication</a></li><li class="chapter-item "><a href="SGB_Functions.html"><strong aria-hidden="true">12.</strong> SGB Functions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="SGB_Unlocking.html"><strong aria-hidden="true">12.1.</strong> Unlocking and Detecting SGB Functions</a></li><li class="chapter-item "><a href="SGB_Command_Packet.html"><strong aria-hidden="true">12.2.</strong> Command Packet Transfers</a></li><li class="chapter-item "><a href="SGB_VRAM_Transfer.html"><strong aria-hidden="true">12.3.</strong> VRAM Transfers</a></li><li class="chapter-item "><a href="SGB_Color_Palettes.html"><strong aria-hidden="true">12.4.</strong> Color Palettes Overview</a></li><li class="chapter-item "><a href="SGB_Command_Summary.html"><strong aria-hidden="true">12.5.</strong> Command Summary</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="SGB_Command_Palettes.html"><strong aria-hidden="true">12.5.1.</strong> Palette Commands</a></li><li class="chapter-item "><a href="SGB_Command_Attribute.html"><strong aria-hidden="true">12.5.2.</strong> Color Attribute Commands</a></li><li class="chapter-item "><a href="SGB_Command_Sound.html"><strong aria-hidden="true">12.5.3.</strong> Sound Functions</a></li></ol></li><li class="chapter-item "><a href="SGB_Command_System.html"><strong aria-hidden="true">12.6.</strong> System Control Commands</a></li><li class="chapter-item "><a href="SGB_Command_Multiplayer.html"><strong aria-hidden="true">12.7.</strong> Multiplayer Command</a></li><li class="chapter-item "><a href="SGB_Command_Border.html"><strong aria-hidden="true">12.8.</strong> Border and OBJ Commands</a></li><li class="chapter-item "><a href="SGB_Command_Undocumented.html"><strong aria-hidden="true">12.9.</strong> Undocumented SGB commands</a></li></ol></li><li class="chapter-item "><li class="part-title">CPU Specifications</li><li class="chapter-item "><a href="CPU_Registers_and_Flags.html"><strong aria-hidden="true">13.</strong> CPU Registers and Flags</a></li><li class="chapter-item "><a href="CPU_Instruction_Set.html"><strong aria-hidden="true">14.</strong> CPU Instruction Set</a></li><li class="chapter-item "><a href="CPU_Comparison_with_Z80.html"><strong aria-hidden="true">15.</strong> CPU Comparison with Z80</a></li><li class="chapter-item affix "><li class="part-title">Cartridges</li><li class="chapter-item "><a href="The_Cartridge_Header.html"><strong aria-hidden="true">16.</strong> The Cartridge Header</a></li><li class="chapter-item expanded "><a href="MBCs.html"><strong aria-hidden="true">17.</strong> MBCs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="nombc.html"><strong aria-hidden="true">17.1.</strong> No MBC</a></li><li class="chapter-item expanded "><a href="MBC1.html" class="active"><strong aria-hidden="true">17.2.</strong> MBC1</a></li><li class="chapter-item "><a href="MBC2.html"><strong aria-hidden="true">17.3.</strong> MBC2</a></li><li class="chapter-item "><a href="MBC3.html"><strong aria-hidden="true">17.4.</strong> MBC3</a></li><li class="chapter-item "><a href="MBC5.html"><strong aria-hidden="true">17.5.</strong> MBC5</a></li><li class="chapter-item "><a href="MBC6.html"><strong aria-hidden="true">17.6.</strong> MBC6</a></li><li class="chapter-item "><a href="MBC7.html"><strong aria-hidden="true">17.7.</strong> MBC7</a></li><li class="chapter-item "><a href="MMM01.html"><strong aria-hidden="true">17.8.</strong> MMM01</a></li><li class="chapter-item "><a href="M161.html"><strong aria-hidden="true">17.9.</strong> M161</a></li><li class="chapter-item "><a href="HuC1.html"><strong aria-hidden="true">17.10.</strong> HuC1</a></li><li class="chapter-item "><a href="HuC3.html"><strong aria-hidden="true">17.11.</strong> HuC-3</a></li><li class="chapter-item "><a href="othermbc.html"><strong aria-hidden="true">17.12.</strong> Other MBCs</a></li></ol></li><li class="chapter-item "><li class="part-title">Accessories</li><li class="chapter-item "><a href="Gameboy_Printer.html"><strong aria-hidden="true">18.</strong> Game Boy Printer</a></li><li class="chapter-item "><a href="Gameboy_Camera.html"><strong aria-hidden="true">19.</strong> Game Boy Camera</a></li><li class="chapter-item "><a href="Four_Player_Adapter.html"><strong aria-hidden="true">20.</strong> 4-Player Adapter</a></li><li class="chapter-item "><a href="Shark_Cheats.html"><strong aria-hidden="true">21.</strong> Game Genie/Shark Cheats</a></li><li class="chapter-item affix "><li class="part-title">Other</li><li class="chapter-item "><a href="Power_Up_Sequence.html"><strong aria-hidden="true">22.</strong> Power-Up Sequence</a></li><li class="chapter-item "><a href="Reducing_Power_Consumption.html"><strong aria-hidden="true">23.</strong> Reducing Power Consumption</a></li><li class="chapter-item "><a href="Accessing_VRAM_and_OAM.html"><strong aria-hidden="true">24.</strong> Accessing VRAM and OAM</a></li><li class="chapter-item "><a href="OAM_Corruption_Bug.html"><strong aria-hidden="true">25.</strong> OAM Corruption Bug</a></li><li class="chapter-item "><a href="External_Connectors.html"><strong aria-hidden="true">26.</strong> External Connectors</a></li><li class="chapter-item "><a href="GBC_Approval_Process.html"><strong aria-hidden="true">27.</strong> GBC Approval Process</a></li><li class="spacer"></li><li class="chapter-item affix "><a href="References.html">References</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Pan Docs</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/gbdev/pandocs" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/gbdev/pandocs/edit/master/src/MBC1.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="mbc1"><a class="header" href="#mbc1">MBC1</a></h1>
<p>(max 2MByte ROM and/or 32 KiB RAM)</p>
<p>This is the first MBC chip for the Game Boy. Any newer MBC chips
work similarly, so it is relatively easy to upgrade a program from one
MBC chip to another — or to make it compatible with several
types of MBCs.</p>
<p>In its default configuration, MBC1 supports up to 512 KiB ROM with up to 32 KiB of banked RAM.
Some cartridges wire the MBC differently, where the 2-bit RAM banking register is wired as an extension of the ROM banking register (instead of to RAM) in order to support up to 2 MiB ROM, at the cost of only supporting a fixed 8 KiB of cartridge RAM.
All MBC1 cartridges with 1 MiB of ROM or more use this alternate wiring.
Also see the note on MBC1M multi-game compilation carts below.</p>
<p>Note that the memory in range 0000–7FFF is used both for reading from
ROM and writing to the MBCs Control Registers.</p>
<h2 id="memory"><a class="header" href="#memory">Memory</a></h2>
<h3 id="00003fff--rom-bank-x0-read-only"><a class="header" href="#00003fff--rom-bank-x0-read-only">0000–3FFF — ROM Bank X0 [read-only]</a></h3>
<p>This area normally contains the first 16 KiB (bank 00) of the cartridge
ROM.</p>
<p>In 1 MiB and larger cartridges (that use the 2-bit second banking register for extended ROM banking), entering mode 1 (see below) will allow that second banking register to apply to reads from this region in addition to the regular 4000–7FFF banked region, resulting in accessing banks $20/$40/$60 for regular large ROM carts, or banks $10/$20/$30 for an MBC1M multi-cart (see note below).</p>
<h3 id="40007fff--rom-bank-01-7f-read-only"><a class="header" href="#40007fff--rom-bank-01-7f-read-only">4000–7FFF — ROM Bank 01-7F [read-only]</a></h3>
<p>This area may contain any of the further 16 KiB banks of the ROM. If the main 5-bit ROM banking register is 0, it reads the bank as if it was set to 1.</p>
<p>For 1 MiB+ ROM, this means any bank that is possible to accessible via the 0000–3FFF region is not accessible in this region. i.e. banks $00/$20/$40/$60 in regular large ROM carts, or banks $00/$10/$20/$30 in MBC1M multi-game compilation carts. Instead, it automatically maps to 1 bank
higher ($01/$21/$41/$61 or $01/$11/$21/$31 respectively).</p>
<h3 id="a000bfff--ram-bank-0003-if-any"><a class="header" href="#a000bfff--ram-bank-0003-if-any">A000–BFFF — RAM Bank 00–03, if any</a></h3>
<p>This area is used to address external RAM in the cartridge (if any). The RAM is only accessible if RAM is enabled, otherwise reads return open bus values (often $FF, but not guaranteed) and writes are ignored.</p>
<p>Available RAM sizes are 8 KiB (at $A000–BFFF) and 32 KiB (in form of four 8K banks at $A000–BFFF). 32 KiB is only available in cartridges with ROM &lt;= 512 KiB.</p>
<p>External RAM is often battery-backed, allowing for the storage of game data while the Game Boy is turned off, or if the cartridge is removed from the Game Boy. External RAM is no slower than the Game Boy’s internal RAM, so many games use part of the external RAM as extra working RAM, even if they use another part of it for battery-backed saves.</p>
<h2 id="registers"><a class="header" href="#registers">Registers</a></h2>
<p>All of the MBC1 registers default to 00h on power-up, which for the “ROM Bank Number” register is <em>treated as</em> 01h.</p>
<h3 id="00001fff--ram-enable-write-only"><a class="header" href="#00001fff--ram-enable-write-only">0000–1FFF — RAM Enable (Write Only)</a></h3>
<p>Before external RAM can be read or written, it must be enabled by
writing $A to this address space.
Any value with $A in the lower 4 bits enables the RAM attached to the MBC and any
other value disables the RAM. It is unknown why $A is the value used to enable RAM.</p>
<pre><code>$00  Disable RAM (default)
$0A  Enable RAM
</code></pre>
<p>It is recommended to disable external RAM
after accessing it, in order to protect its contents from corruption during
power down of the Game Boy or removal of the cartridge. Once the cartridge has <em>completely</em> lost power from the Game Boy, the RAM is automatically disabled to protect it.</p>
<h3 id="20003fff--rom-bank-number-write-only"><a class="header" href="#20003fff--rom-bank-number-write-only">2000–3FFF — ROM Bank Number (Write Only)</a></h3>
<p>This 5-bit register (range $01-$1F) selects the ROM bank number for the 4000–7FFF region. Higher
bits are discarded — writing $E1 (binary ~~111~~00001) to this register
would select bank $01.</p>
<p>If this register is set to $00, it behaves as if it is set to $01. This means you cannot duplicate bank $00 into both the 0000–3FFF and 4000–7FFF ranges by setting this register to $00.</p>
<p>If the ROM Bank Number is set to a higher value than the number of banks
in the cart, the bank number is masked to the required number of bits.
e.g. a 256 KiB cart only needs a 4-bit bank number to address all of its
16 banks, so this register is masked to 4 bits. The upper bit would be
ignored for bank selection.</p>
<p>Even with smaller ROMs that use less than 5 bits for bank selection, the full 5-bit register is still compared for the bank 00→01 translation logic. As a result if the ROM is 256 KiB or smaller, it <em>is</em> possible to map bank 0 to the 4000–7FFF region — by setting the 5th bit to 1 it will prevent the 00→01 translation (which looks at the full 5-bit register, and sees the value $10, not $00), while the bits actually used for bank selection (4, in this example) are all 0, so bank $00 is selected.</p>
<p>On larger carts which need a &gt;5 bit bank number, the secondary banking
register at 4000–5FFF is used to supply an additional 2 bits for the
effective bank number:
<code>Selected ROM Bank = (Secondary Bank &lt;&lt; 5) + ROM Bank</code>.<sup class="footnote-reference"><a href="#MBC1M_banking">1</a></sup></p>
<div class="footnote-definition" id="MBC1M_banking"><sup class="footnote-definition-label">1</sup>
<p>MBC1M has a different formula, see below</p>
</div>
<p>These additional two bits are ignored for the bank 00→01 translation. This causes a problem — attempting to access banks 20h, 40h, and 60h only set bits in the upper 2-bit register, with the lower 5-bit register set to 00. As a result, any
attempt to address these ROM Banks will select Bank $21, $41 and $61
instead. The only way to access banks $20, $40 or $60 at all is to enter mode 1,
which remaps the 0000–3FFF range. This has its own problems for game
developers as that range contains interrupt handlers, so it’s usually only
used in multi-game compilation carts (see below).</p>
<h3 id="40005fff--ram-bank-number--or--upper-bits-of-rom-bank-number-write-only"><a class="header" href="#40005fff--ram-bank-number--or--upper-bits-of-rom-bank-number-write-only">4000–5FFF — RAM Bank Number — or — Upper Bits of ROM Bank Number (Write Only)</a></h3>
<p>This second 2-bit register can be used to select a RAM Bank in range from
$00–$03 (32 KiB ram carts only), or to specify the upper two bits (bits 5-6)
of the ROM Bank number (1 MiB ROM or larger carts only). If neither ROM nor
RAM is large enough, setting this register does nothing.</p>
<p>In 1MB MBC1 multi-carts (see below), this 2-bit register is instead
applied to bits 4-5 of the ROM bank number and the top bit of the main
5-bit main ROM banking register is ignored.</p>
<h3 id="60007fff--banking-mode-select-write-only"><a class="header" href="#60007fff--banking-mode-select-write-only">6000–7FFF — Banking Mode Select (Write Only)</a></h3>
<p>This 1-bit register selects between the two MBC1 banking modes, controlling
the behaviour of the secondary 2-bit banking register (above). If the cart
is not large enough to use the 2-bit register (&lt;= 8 KiB RAM and &lt;= 512 KiB ROM)
this mode select has no observable effect. The program may freely switch
between the two modes at any time.</p>
<pre><code>00 = Simple Banking Mode (default)
     0000–3FFF and A000–BFFF locked to bank 0 of ROM/RAM
01 = RAM Banking Mode / Advanced ROM Banking Mode
     0000–3FFF and A000–BFFF can be bank-switched via the 4000–5FFF bank register
</code></pre>
<p>Technically, the MBC1 has AND gates between the both bank registers and the second-highest bit of the address. This is intended to cause accesses to the 0000–3FFF region (which has that address bit set to 0) to treat both registers as always 0, so that only bank 0 is accessible through this address.</p>
<p>However, when the second bank register is connected to RAM, this has the side effect of also locking RAM to bank 0, as the RAM address space (A000–BFFF) <em>also</em> has the second-highest address bit set to 0.</p>
<p>Setting the mode to 1 disables these AND gates, allowing the two-bit register to switch the selected bank in both these regions.</p>
<h2 id="addressing-diagrams"><a class="header" href="#addressing-diagrams">Addressing diagrams</a></h2>
<p>The following diagrams show how the address within the ROM/RAM chips are calculated from the accessed address and banking registers</p>
<h3 id="00003fff"><a class="header" href="#00003fff">0000–3FFF</a></h3>
<p>In mode 0:</p>
<pre><code>Bits: 20 19 18 17 16 15 14 13 12 .. 01 00
      \___/ \____________/ \____________/
        |          |            \----------- From Game Boy address
        |          \------------------------ Always 0
        \----------------------------------- Always 0
</code></pre>
<p>In mode 1:</p>
<pre><code>Bits: 20 19 18 17 16 15 14 13 12 .. 01 00
      \___/ \____________/ \____________/
        |          |            \----------- From Game Boy address
        |          \------------------------ Always 0
        \----------------------------------- As 4000–5FFF bank register
</code></pre>
<h3 id="40007fff"><a class="header" href="#40007fff">4000–7FFF</a></h3>
<p>Regardless of mode:</p>
<pre><code>                              /------------- In a smaller cart, only the needed
                              |              bits are used (e.g 128kiB uses 17)
                  /---------------------\
Bits: 20 19 18 17 16 15 14 13 12 .. 01 00
      \___/ \____________/ \____________/
        |          |            \----------- From Game Boy address
        |          \------------------------ As 2000–3FFF bank register
        \----------------------------------- As 4000–5FFF bank register
</code></pre>
<h3 id="a000bfff"><a class="header" href="#a000bfff">A000–BFFF</a></h3>
<p>In mode 0:</p>
<pre><code>Bits: 14 13 12 .. 01 00
      \___/ \_________/
        |        \-------- From Game Boy address
        \----------------- Always 0
</code></pre>
<p>In mode 1:</p>
<pre><code>Bits: 14 13 12 .. 01 00
      \___/ \_________/
        |        \-------- From Game Boy address
        \----------------- As 4000–5FFF bank register
</code></pre>
<h2 id="mbc1m-1-mib-multi-game-compilation-carts"><a class="header" href="#mbc1m-1-mib-multi-game-compilation-carts">“MBC1M” 1 MiB Multi-Game Compilation Carts</a></h2>
<p>Known as MBC1M, these carts have an alternative wiring, that ignores
the top bit of the main ROM banking register (making it effectively a 4-bit register for banking, though the full 5 bit register is still used for 00→01 translation)
and applies the 2-bit register to bits 4-5 of the bank number (instead of
the usual bits 5-6). This means that in mode 1 the 2-bit register selects
banks $00, $10, $20, or $30, rather than the usual $00, $20, $40 or $60.</p>
<p>These carts make use of the fact that mode 1 remaps the 0000–3FFF area
to switch games. The 2-bit register is used to select the game — switching
the zero bank and the region of banks that the 4000–7FFF ROM area can
access to those for the selected game and then the game only changes the
main ROM banking register. As far as the selected game knows, it’s running
from a 256 KiB cart!</p>
<p>These carts can normally be identified by having a Nintendo copyright
header in bank $10. A badly dumped multi-cart ROM can be identified by
having duplicate content in banks $10-$1F (dupe of $00–$0F) and banks $30-$3F
(dupe of $20-$2F).
There is a known bad dump of the Mortal Kombat I &amp; II collection around.</p>
<p>An “MBC1M” compilation cart ROM can be converted into a regular MBC1 ROM
by increasing the ROM size to 2 MiB and duplicating each sub-ROM — $00–$0F
duplicated into $10-$1F, the original $10-$1F placed in $20-$2F and
duplicated into $30-$3F and so on.</p>
<h2 id="mbc1m-addressing-diagrams"><a class="header" href="#mbc1m-addressing-diagrams">MBC1M addressing diagrams:</a></h2>
<h3 id="00003fff-1"><a class="header" href="#00003fff-1">0000–3FFF</a></h3>
<p>(In mode 1)</p>
<pre><code>Bits: 19 18    17 16 15 14 13 12 .. 01 00
      \___/ \____________/ \____________/
        |          |            \----------- From Game Boy address
        |          \------------------------ Always 0
        \----------------------------------- As 4000–5FFF bank register
</code></pre>
<h3 id="40007fff-1"><a class="header" href="#40007fff-1">4000–7FFF</a></h3>
<p>Regardless of mode:</p>
<pre><code>Bits: 19 18    17 16 15 14 13 12 .. 01 00
      \___/ \____________/ \____________/
        |          |            \----------- From Game Boy address
        |          \------------------------ As 2000–3FFF bank register
        |                                       (only 4 bits used)
        \----------------------------------- As 4000–5FFF bank register
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="nombc.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="MBC2.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="nombc.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="MBC2.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
